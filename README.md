# uart_echo
Реализована программа uart-эхо. Т.е. отправляю через терминал строку, и такая же строка должна прийти в ответ.
Результаты работы показаны на видео.
Для работы использовалась плата NUCLEO G474.

Краткое описание программы:
Программа работает на базе ОСРВ FreeRTOS.
Объекты FreeRTOS: 2 задачи (UartRead и UartWrite) и одна очередь (QueueUartTx).
Схема управления памятью: heap_4.
Для работы с периферией STM32 использовались библиотеки LL и HAL.

Чтение из UART реализовано с помощью DMA, кольцевого буфера и прерывания по событию UART IDLE detection.
Как только данные по UART пришли, срабатывает прерывание, которое через уведомление запускает задачу UartRead.
В задаче UartRead смотрим сколько байт пришло, находим строки (здесь также реализован механизм склеивания строк),
выделяем память под новую строку и отправляем узатель на новую строку в очередь.
Как только у нас появляются данные в очереди, разблокируется задача UART Write. 
По DMA мы отправляем строку в терминал. Как только данные отправились, срабатывает прерывние, которое через
уведомление опять запускает задачу UartWrite. 
Далее в этой задаче происходит освобождение памяти (удаляем строку, которую отправили в терминал ранее, чтобы не было утечки памяти) и пытаемся снова прочитать данные из очереди.
